<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">
	<meta name="x5-fullscreen" content="true">
	<meta name="full-screen" content="yes">
	<meta name="imagemode" content="force">
	<title>内页</title>
	<link rel="stylesheet" href="css/global.css?20180208">
	<link rel="stylesheet" href="css/swiper/swiper-4.1.0.min.css">
	<link rel="stylesheet" href="css/swiper/animate.min.css">
	<style>
		html, body {
	      position: relative;
	      height: 100%;
	    }
	    .swiper-container {
	      width: 100%;
	      height: 100%;
	    }
	    .swiper-slide {
		  overflow: auto;
	    }
	</style>
</head>
<body>
	<div class="swiper-container">
		<div class="swiper-wrapper">
			<!--账单 start-->
			<div class="swiper-slide">
				<div class="container">
					<div class="pageBox ani" swiper-animate-effect="bounceInDown">
						<div class="pageBox-title">这一年</div>
						<div class="pageBox-content">你横扫大街小巷，吃了<strong>西城区西单北大街</strong>美食，吃了<strong>XXX</strong>个</div>
						<div class="pageBox-foot">在这里吃的不止是美味，还是一种情怀，一种回忆。</div>
					</div>
					<div class="pageBox ani" swiper-animate-effect="bounceInDown" swiper-animate-delay="0.3s">
						<div class="pageBox-title">今年你吃了</div>
						<div class="pageBox-content"><h5>川菜、火锅、粤菜</h5></div>
						<div class="pageBox-foot">不使劲吃，怎么有力气拼搏？唯有美食不可辜负！</div>
					</div>
					<div class="pageBox ani" swiper-animate-effect="bounceInDown" swiper-animate-delay="0.6s">
						<div class="pageBox-content">全年美食消费：<strong>2915.8</strong>元</div>
						<div class="pageBox-foot">照这情况今年还将持续增长...</div>
					</div>
					<div class="page-icon"><img src="img/page-icon.png" alt=""></div>
				</div>
			</div>
			<!--账单 end-->

			<!--使用优惠券 start-->
			<div class="swiper-slide">
				<div class="container pb5">
					<div class="page-title ani" swiper-animate-effect="bounceInUp">这一年你使用的优惠券</div>
					<div class="page-bg ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.1s">
						<div class="page-bg-img"><img src="img/list/img-01.png" alt=""></div>
						<div class="page-bg-name">西点</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>29</strong>张</div>
					</div>
					<div class="page-bg bg-02 size4 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.2s">
						<div class="page-bg-img"><img src="img/list/img-02.png" alt=""></div>
						<div class="page-bg-name">意面披萨</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>159</strong>张</div>
					</div>
					<div class="page-bg bg-03 size4 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.3s">
						<div class="page-bg-img"><img src="img/list/img-03.png" alt=""></div>
						<div class="page-bg-name">咖啡简餐</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>1519</strong>张</div>
					</div>
					<div class="page-bg bg-04 size4 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.4s">
						<div class="page-bg-img"><img src="img/list/img-04.png" alt=""></div>
						<div class="page-bg-name">融合菜</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>159</strong>张</div>
					</div>
					<div class="page-bg bg-05 size4 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.5s">
						<div class="page-bg-img"><img src="img/list/img-05.png" alt=""></div>
						<div class="page-bg-name">新疆菜</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>94</strong>张</div>
					</div>
					<div class="page-bg bg-06 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.6s">
						<div class="page-bg-img"><img src="img/list/img-06.png" alt=""></div>
						<div class="page-bg-name">日料</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>94</strong>张</div>
					</div>
					<div class="page-bg bg-07 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.7s">
						<div class="page-bg-img"><img src="img/list/img-07.png" alt=""></div>
						<div class="page-bg-name">北京菜</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>294</strong>张</div>
					</div>
					<div class="page-bg bg-08 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.8s">
						<div class="page-bg-img"><img src="img/list/img-08.png" alt=""></div>
						<div class="page-bg-name">商超</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>294</strong>张</div>
					</div>
					<div class="page-bg bg-09 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="0.9s">
						<div class="page-bg-img"><img src="img/list/img-09.png" alt=""></div>
						<div class="page-bg-name">服饰</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>94</strong>张</div>
					</div>
					<div class="page-bg bg-10 ani" swiper-animate-effect="bounceInUp" swiper-animate-delay="1s">
						<div class="page-bg-img"><img src="img/list/img-10.png" alt=""></div>
						<div class="page-bg-name">火锅</div>
						<div class="page-bg-box">使用优惠券<br>消费<strong>94</strong>张</div>
					</div>
					<div class="page-icon"><a href="page-03.html"><img src="img/page-icon.png" alt=""></a></div>
				</div>
			</div>
			<!--使用优惠券 end-->
			
			<!--图表 start-->
			<div class="swiper-slide">
				<div class="container">
					<div class="page-title ani" swiper-animate-effect="fadeInLeft">时间分布</div>
					<div class="page-time ani" swiper-animate-effect="fadeInRight" swiper-animate-delay="0.3s"></div>
					<div class="page-pointer ani" swiper-animate-effect="fadeInLeft" swiper-animate-delay="0.6s" >
						<div class="page-pointer-title">地区分布</div>
						<div class="page-pointer-map"></div>
						<div class="page-pointer-box">
							<ul>
								<li>北京市西城区西单北大街133号太运广场7层：<strong>2579</strong> 张</li>
								<li>朝阳区三丰北里2号悠唐购物中心5层：<strong>124</strong> 张</li>
								<li>北京市东城区新中街甲3号蜂巢剧场B1层：<strong>1429</strong> 张</li>
							</ul>
						</div>
					</div>
					<div class="page-icon"><a href="page-04.html"><img src="img/page-icon.png" alt=""></a></div>
				</div>
			</div>
			<!--图表 end-->
			
			<!--全年消费账单 start-->
			<div class="swiper-slide">
				<div class="container">
					<div class="page-title ani" swiper-animate-effect="fadeInUp"><span><a href="#" class="btn-zd">查看账单</a></span></div>
					<div class="page-box ani">
						<div class="page-box-title ani" swiper-animate-effect="fadeInUp" swiper-animate-delay="0.3s">全年消费账单</div>
						<div class="page-box-xx ani" swiper-animate-effect="fadeInUp" swiper-animate-delay="0.6s">
							<ul>
								<li>使用优惠券：<strong>2584</strong> 张</li>
								<li>优惠券额度：<strong>1024</strong> 张</li>
							</ul>
							<p>荣获平台奖项：</p>
							<dl>
								<dd><img src="img/img-01.png" alt=""></dd>
								<dt>全网你最美</dt>
								<dd>您已打败全国35%的食客</dd>
							</dl>
							<h5>吃货脚印</h5>
							<ol>
								<li><img src="img/logo/logo-01.jpg" alt=""></li>
								<li><img src="img/logo/logo-02.jpg" alt=""></li>
								<li><img src="img/logo/logo-03.jpg" alt=""></li>
								<li><img src="img/logo/logo-04.jpg" alt=""></li>
								<li><img src="img/logo/logo-05.jpg" alt=""></li>
								<li><img src="img/logo/logo-06.jpg" alt=""></li>
							</ol>
						</div>
					</div>
					<div class="page-icon"><a href="page-04.html"><img src="img/page-icon.png" alt=""></a></div>
				</div>
			</div>
			<!--全年消费账单 end-->
			
			<!--开启宝箱 start-->
			<div class="swiper-slide">
				<div class="container">
					<div class="page-title ani" swiper-animate-effect="fadeInUp"><span><a href="#"><img src="img/icon-fx.png" alt=""></a></span></div>
					<div class="page-box">
						<div class="page-box-title ani" swiper-animate-effect="fadeInUp" swiper-animate-delay="0.3s">全年消费账单</div>
						<div class="page-box-xx ani" swiper-animate-effect="fadeInUp" swiper-animate-delay="0.6s">
							<ul>
								<li>使用优惠券：<strong>2584</strong> 张</li>
								<li>优惠券额度：<strong>1024</strong> 张</li>
							</ul>
							<p>荣获平台奖项：</p>
							<dl>
								<dd><img src="img/img-02.png" alt=""></dd>
								<dt>美食家</dt>
								<dd>您已打败全国35%的食客</dd>
							</dl>
							<h5>吃货脚印</h5>
							<ol>
								<li><img src="img/logo/logo-01.jpg" alt=""></li>
								<li><img src="img/logo/logo-02.jpg" alt=""></li>
								<li><img src="img/logo/logo-03.jpg" alt=""></li>
								<li><img src="img/logo/logo-04.jpg" alt=""></li>
								<li><img src="img/logo/logo-05.jpg" alt=""></li>
								<li><img src="img/logo/logo-06.jpg" alt=""></li>
							</ol>
						</div>
					</div>
					<div class="page-icon"><a href="#" id="bx-kai">开启年终宝箱<br><img src="img/page-icon.png" alt=""></a></div>
				</div>
			</div>
			<!--开启宝箱 end-->
		</div>

		<!--动画-->
			<!--灰色背景 start-->
			<div class="an-bg none"></div>
			<!--灰色背景 end-->

			<!--宝箱 start-->
			<div class="an-cd none"><img src="img/animate/bg.png" alt=""></div>
			<div class="an-bx none"><a href="#" id="bx"><img src="img/animate/box-01.png" alt=""></a></div>
			<!--宝箱 end-->
		
			<!--开启宝箱 start-->
			<div class="an-red-icon anmited-sf none"><img src="img/animate/bg-01.png" alt=""></div>
			<div class="an-red-bx none"><img src="img/animate/box-02.png" alt=""></div>
			<div class="an-red anmited-sf none">
				<h5>恭喜你</h5>
				<dl>
					<dt>优惠券</dt>
					<dd><strong>20</strong>元</dd>
					<dd><a href="#">点击领取</a></dd>
				</dl>
				<p class="flash animated infinite"><img src="img/animate/stars.png" alt=""></p>
			</div>
			<!--开启宝箱 end-->
		<!--动画 end-->
	</div>
	
	<script src="js/jquery.min.js"></script>
	<script src="js/swiper/swiper-4.1.0.min.js"></script>
	<script src="js/swiper/swiper.animate1.0.3.min.js"></script>
	 <!-- Initialize Swiper -->
	 <!--图表-->
	<script src="js/highcharts/highcharts.js"></script>
	<script src="js/highcharts/exporting.js"></script>
	<script src="js/highcharts/highcharts-zh_CN.js"></script>
	<!--图表end -->
	<script>
		$(function () {
			// 时间分布
			var timeData = [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4];
			$('.page-time').highcharts({
			    chart: {
			        type: 'column',
			        backgroundColor: null,
	            	plotBorderWidth: "0"
			    },
			    title: {
			        text: null,
			        textStyle: {
			            color: '#f00',
			            fontSize: 16,
			        }
			    },
			    xAxis: {
			        categories: [
			            '1月',
			            '2月',
			            '3月',
			            '4月',
			            '5月',
			            '6月',
			            '7月',
			            '8月',
			            '9月',
			            '10月',
			            '11月',
			            '12月'
			        ],
			        crosshair: true,
			        labels: {
                        style: {
                            color: '#fff'
                        }
                    }
			    },
			    yAxis: {  
					title: null,  
					labels:{  
						enabled:false   //去掉文字信息
					}, 
					min: 0,
		            stackLabels: {
		                enabled: true,
		                style: {
		                    color: "#fff"
		                }
		            },
		            gridLineColor: "rgba(255,255,255,.3)", //设置边框线
				}, 
				//去掉筛选
				legend: {
	                enabled: false
	            }, 
			    // 去水印
			    credits: {
			    	enabled: false
			    },
			    // 去右上角打印
			    exporting: {  
		            enabled: false  
				},
			    plotOptions: {
			    	allowPointSelect: false,
		            column: {
		                stacking: 'normal' // 显示文字在图表顶部
		            },
		            series: {
		                marker: {
		                    enabled: false
		                }
		            }
		        },
			    series: [{
			        name: ' ',
			        data: timeData, //展示数据
			        color: {
			        	linearGradient: [0, 0, 500, 500],
		                stops: [
		                    [0, 'rgba(0, 242, 254, .8)'],
		                    [1, 'rgba(79, 172, 254, .8)']
		                ]
			        },
			        borderWidth: "0"
			    }],
			});

			// 饼图
			var mapData = [['朝阳区',67],['西城区',21],['东城区',12]]
			$('.page-pointer-map').highcharts({
				colors: ['#00a0e9', '#80c269', '#f19149', '#f7a35c', '#8085e9', '#f15c80', '#e4d354', '#2b908f', '#f45b5b', '#91e8e1'],
		        chart: {
		            plotBackgroundColor: null,
		            plotBorderWidth: null,
		            plotShadow: false,
		            backgroundColor: null
		        },
		        title: {
		            text: null
		        },
		        tooltip: {
		            headerFormat: '{series.name}<br>',
		            pointFormat: '{point.name}: <b>{point.percentage:.1f}%</b>'
		        },
		        plotOptions: {
		            pie: {
		                allowPointSelect: true,
		                cursor: 'pointer',
		                dataLabels: {
		                    enabled: true,
		                    distance: 5, //调整文字间距
		                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
		                    style: {
		                        color: "#666"
		                    }
		                }
		            }
		        },
		        series: [{
		            type: 'pie',
		            name: '  ',
		            data: mapData
		        }],
		        //去掉筛选
				legend: {
	                enabled: false
	            }, 
			    // 去水印
			    credits: {
			    	enabled: false
			    },
			    // 去右上角打印
			    exporting: {  
		            enabled: false  
				},
		    });

			/*-------宝箱动画-------*/

			//点击宝箱
			$("#bx").click(function(){
				$(this).parent().hide();
				$(".an-red-bx").show().addClass("animated bounceInUp");
				setTimeout(function(){
					$(".anmited-sf").show().addClass("animate-red");
				},1000)
			})
			/*-------宝箱动画 end-------*/
		});
		var flag = false,
			num = 0;
		/*--------swiper-------*/
		var swiper = new Swiper('.swiper-container', {
			direction: 'vertical',
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			autoHeight: true,
			on: {
				init: function(){
					swiperAnimateCache(this); //隐藏动画元素 
					swiperAnimate(this); //初始化完成开始动画
				}, 
				slideChangeTransitionEnd: function(){ 
					swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
					console.log(this.activeIndex);//切换结束时，告诉我现在是第几个slide
				},
				touchMove: function(event){
					//你的事件
					if(this.activeIndex == 4 && num == 0){
						flag = true;
						num = 1;
					}
					if (flag == true && num == 1) {
						//开启宝箱
						var box = $(".an-bg,.an-cd,.an-bx");
						box.show();
						$(".an-cd").addClass("animated bounceIn");
						$(".an-bx").addClass("animated bounceInUp");
						flag = false;
						num = 2;
						swiper.detachEvents();
					}
			    },
			},
		});
		/*--------swiper-------*/

		/*-------swiper出滚动条-------*/
		var startScroll, touchStart, touchCurrent;
		swiper.slides.on('touchstart', function (e) {
			startScroll = this.scrollTop;
			touchStart = e.targetTouches[0].pageY;
		}, true);
		swiper.slides.on('touchmove', function (e) {
			touchCurrent = e.targetTouches[0].pageY;
			var touchesDiff = touchCurrent - touchStart;
			var slide = this;
			var onlyScrolling =
			( slide.scrollHeight > slide.offsetHeight ) && //allow only when slide is scrollable
				(
				( touchesDiff < 0 && startScroll === 0 ) || //start from top edge to scroll bottom
				( touchesDiff > 0 && startScroll === ( slide.scrollHeight - slide.offsetHeight ) ) || //start from bottom edge to scroll top
				( startScroll > 0 && startScroll < ( slide.scrollHeight - slide.offsetHeight ) ) //start from the middle
			);
			if (onlyScrolling) {
				e.stopPropagation();
			}
		}, true);
		/*-------swiper出滚动条-------*/
	</script>
	<script>
    
  </script>
</body>
</html>